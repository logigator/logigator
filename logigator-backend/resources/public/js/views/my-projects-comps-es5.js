"use strict";function asyncGeneratorStep(e,t,n,o,c,r,a){try{var i=e[r](a),p=i.value}catch(u){return void n(u)}i.done?t(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,c){var r=e.apply(t,n);function a(e){asyncGeneratorStep(r,o,c,a,i,"next",e)}function i(e){asyncGeneratorStep(r,o,c,a,i,"throw",e)}a(void 0)}))}}function projectComponentList(){var e,t,n,o,c=document.querySelector(".view-my-projects-comps").getAttribute("data-type"),r=document.querySelector(".view-my-projects-comps__popup-container"),a=document.querySelector(".view-my-projects-comps__list"),i=document.querySelectorAll(".view-my-projects-comps__page-button"),p=[0,0,0,0,0,0,0];function u(){var e,n,o=document.querySelector(".partial-project-comp-list"),c=Number(Bem.data(o,"total-pages"));t=Number(Bem.data(o,"current-page")),p[0]=t>0?0:void 0,p[1]=t>0?t-1:void 0,p[2]=void 0,p[3]=void 0,p[4]=void 0,0===t?(e=0,n=c>3?3:c-1):t===c-1?(e=Math.max(c-3,0),n=c-1):(e=t-1,n=t+1);for(var r=e,a=2;r<=n;r++,a++)p[a]=r;p[5]=t<c-1?t+1:void 0,p[6]=t<c-1?c-1:void 0,i.forEach((function(e,n){n<=1||n>=5?e.disabled=void 0===p[n]:(Bem.setState(e,"hidden",void 0===p[n]),Bem.setState(e,"active",p[n]===t),e.innerHTML=p[n]+1)}))}function d(e,t){return l.apply(this,arguments)}function l(){return(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var o,r,i,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={page:t},void 0!==n&&""!==n&&(o.search=n),r=new URLSearchParams(o).toString(),e.next=5,fetch("/my/".concat(c,"/page?").concat(r));case 5:return i=e.sent,e.next=8,i.text();case 8:a.innerHTML=e.sent,p=[location.protocol,"//",location.host,location.pathname].join(""),window.history.pushState({},"",p+"?"+r),autoAdjustFontSize(a),u(),m();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){a.querySelectorAll(".partial-project-comp-list__icon-info").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement.getAttribute("data-id");openDynamicPopup("/my/".concat(c,"/info/").concat(t),r)}))})),a.querySelectorAll(".partial-project-comp-list__icon-edit").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement.getAttribute("data-id");openDynamicPopup("/my/".concat(c,"/edit-popup/").concat(t),r)}))})),a.querySelectorAll(".partial-project-comp-list__new-proj-comp").forEach((function(e){e.addEventListener("click",(function(){openDynamicPopup("/my/".concat(c,"/create-popup"),r)}))})),a.querySelectorAll(".partial-project-comp-list__icon-delete").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement.getAttribute("data-id");openDynamicPopup("/my/".concat(c,"/delete-popup/").concat(t),r)}))})),a.querySelectorAll(".partial-project-comp-list__icon-share").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement.getAttribute("data-id");openDynamicPopup("/my/".concat(c,"/share-popup/").concat(t),r)}))}))}u(),i.forEach((function(t,n){t.addEventListener("click",(function(){void 0===p[n]||Bem.hasState(t,"active")||d(p[n],e)}))})),n=document.getElementById("view-my-projects-comps__search"),o=debounceFunction((function(){d(0,e=n.value)}),400),n.addEventListener("input",o),m()}projectComponentList(),window.viewProjectComponentSharePopup=function(e){var t=this,n=e.querySelector(".view-project-component-share-popup__link-copy");n.addEventListener("click",(function(){var e=t.document.createElement("textarea");e.value=Bem.data(n,"link"),t.document.body.appendChild(e),e.select(),t.document.execCommand("copy"),e.remove()}))};
//# sourceMappingURL=my-projects-comps-es5.js.map
