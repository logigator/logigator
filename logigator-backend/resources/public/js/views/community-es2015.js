"use strict";function community(){const t=document.querySelector(".view-community").getAttribute("data-type"),e=document.querySelector(".view-community__list"),o=document.querySelectorAll(".view-community__page-button"),n=[0,0,0,0,0,0,0];let i,c;function a(){const t=document.querySelector(".partial-community-list"),e=Number(Bem.data(t,"total-pages"));let i,a;c=Number(Bem.data(t,"current-page")),n[0]=c>0?0:void 0,n[1]=c>0?c-1:void 0,n[2]=void 0,n[3]=void 0,n[4]=void 0,0===c?(i=0,a=e>3?3:e-1):c===e-1?(i=Math.max(e-3,0),a=e-1):(i=c-1,a=c+1);for(let t=i,e=2;t<=a;t++,e++)n[e]=t;n[5]=c<e-1?c+1:void 0,n[6]=c<e-1?e-1:void 0,o.forEach(((t,e)=>{e<=1||e>=5?t.disabled=void 0===n[e]:(Bem.setState(t,"hidden",void 0===n[e]),Bem.setState(t,"active",n[e]===c),t.innerHTML=n[e]+1)}))}async function m(o,n){const i={page:o};void 0!==n&&""!==n&&(i.search=n);const c=new URLSearchParams(i).toString(),m=await fetch("/community/".concat(t,"/page?").concat(c));e.innerHTML=await m.text();const u=[location.protocol,"//",location.host,location.pathname].join("");window.history.pushState({},"",u+"?"+c),a()}a(),o.forEach(((t,e)=>{t.addEventListener("click",(()=>{void 0===n[e]||Bem.hasState(t,"active")||m(n[e],i)}))})),function(){const t=document.getElementById("view-community__search"),e=debounceFunction((()=>{i=t.value,m(0,i)}),600);t.addEventListener("input",e)}()}community();
//# sourceMappingURL=community-es2015.js.map
