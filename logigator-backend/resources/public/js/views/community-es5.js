"use strict";function asyncGeneratorStep(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(m){return void n(m)}c.done?e(u):Promise.resolve(u).then(o,r)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){asyncGeneratorStep(a,o,r,i,c,"next",t)}function c(t){asyncGeneratorStep(a,o,r,i,c,"throw",t)}i(void 0)}))}}function community(){var t,e,n,o,r=document.querySelector(".view-community").getAttribute("data-type"),a=document.querySelector(".view-community__list"),i=document.querySelectorAll(".view-community__page-button"),c=[0,0,0,0,0,0,0];function u(){var t,n,o=document.querySelector(".partial-community-list"),r=Number(Bem.data(o,"total-pages"));e=Number(Bem.data(o,"current-page")),c[0]=e>0?0:void 0,c[1]=e>0?e-1:void 0,c[2]=void 0,c[3]=void 0,c[4]=void 0,0===e?(t=0,n=r>3?3:r-1):e===r-1?(t=Math.max(r-3,0),n=r-1):(t=e-1,n=e+1);for(var a=t,u=2;a<=n;a++,u++)c[u]=a;c[5]=e<r-1?e+1:void 0,c[6]=e<r-1?r-1:void 0,i.forEach((function(t,n){n<=1||n>=5?t.disabled=void 0===c[n]:(Bem.setState(t,"hidden",void 0===c[n]),Bem.setState(t,"active",c[n]===e),t.innerHTML=c[n]+1)}))}function m(t,e){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n){var o,i,c,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={page:e},void 0!==n&&""!==n&&(o.search=n),i=new URLSearchParams(o).toString(),t.next=5,fetch("/community/".concat(r,"/page?").concat(i));case 5:return c=t.sent,t.next=8,c.text();case 8:a.innerHTML=t.sent,m=[location.protocol,"//",location.host,location.pathname].join(""),window.history.pushState({},"",m+"?"+i),u();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}u(),i.forEach((function(e,n){e.addEventListener("click",(function(){void 0===c[n]||Bem.hasState(e,"active")||m(c[n],t)}))})),n=document.getElementById("view-community__search"),o=debounceFunction((function(){m(0,t=n.value)}),600),n.addEventListener("input",o)}community();
//# sourceMappingURL=community-es5.js.map
